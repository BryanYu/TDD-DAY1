# 91的TDD-8th

## 預計的學習目標

1. 我希望未來再開發Code的時候能夠思考「好測試」的這件事
2. 我希望我自己學完之後能夠將「測試通過才算是完成的」的觀念帶給團隊成員
3. 我希望能夠學習到單元測試、整合測試、Live Document的相關技巧，並能夠整合進CI/CD，降低手工工作的工作量
4. 我希望能夠從測試開始，建立良好的團隊文化，不要再寫一些用人格保證沒問題的Code

# DAY1上課心得

1. 學習到Unit Test Framework技巧 (使用MsTest)
2. 3A原則(Arrange、Act、Assert)
3. Stub(有回傳值)、Mock(驗證的物件) 使用時機
4. 學習到回傳值、集合物件、例外狀況的驗證方式
5. 要讓程式能夠好寫測試，「開發」與「設計」很重要，程式一但好測試，同時也會具有高內聚、低耦合的特性
6. 那怕是一個測試案例也好，初期的設定先調整完，以後就會大大降低寫測試複雜度，這樣大家也會比較有意願寫
7. 測試程式必須要跟Production Code一起提交，他是Production Code的一部分
8. 了解你吃飯的工具，才能提高自己的生產力(努力中)


# HomeWork-DAY1

1. 該11筆資料，如果要3筆成一組，取得Cost的總和的話，預期結果是 6,15, 24, 21
2. 該11筆資料，如果是4筆一組，取得 Revenue 總和的話，預期結果會是 50,66,60
3. 筆數輸入負數，預期會拋 ArgumentException
4. 尋找的欄位若不存在，預期會拋 ArgumentException
5. 筆數若輸入為0, 則傳回0(後來改為也拋ArgumentException)
6. 未來可能會新增其他欄位
7. 希望這個API可以給其他 domain entity 用，例如 Employee


# HomeWork-DAY1心得

寫功課的第一件事就是「避免先寫Production Code」，這跟一般的開發思維很不一樣。因為大部分我一拿到需求就會開始開發程式，
然後會記得說以後要補測試，但通常都是時程緊迫，然後測試就第一個被犧牲了。所以這個功課是我第一次嘗試「先寫測試」，
我自己覺得是滿不錯的體驗，看到一個個紅色的測試案例變成綠燈，當全部的測試案例變成綠燈，Production Code也完成了。

以下是我Production Code的思考
1. 這個案例是要依據傳入的筆數做分頁取值後計算加總，所以使用到LINQ的Skip、Take、Sum的方法
2. 我將方法簽章設定泛型，將來這個api就可以給其他domain entity使用了
3. 我將LINQ Sum的Func<T,int> 當成參數傳入，這樣就可以避免尋找的欄位不存在的問題
4. 有使用上課時所教的依賴反轉(IoC)技巧，將SumSelector實作ISelector介面
5. 針對1跟2額外增加不相等的測試案例，來驗證是否真正不相等


